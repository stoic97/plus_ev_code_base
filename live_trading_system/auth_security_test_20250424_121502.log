2025-04-24 12:15:02,021 - AuthTestRunner - INFO - Logging initialized. Log file: D:\e backup\web development\plusEv\plusEV_code_base\plus_ev_code_base\live_trading_system\financial_app\tests\integration\data_layer_e2e\logs\auth_test_20250424_121502.log
2025-04-24 12:15:02,021 - AuthTestRunner - INFO - Starting Authentication & Security Tests
2025-04-24 12:15:02,033 - utils.reporting - INFO - Test reporting initialized. Report directory: D:\e backup\web development\plusEv\plusEV_code_base\plus_ev_code_base\live_trading_system\financial_app\tests\integration\data_layer_e2e\reports\20250424_121502
2025-04-24 12:15:02,033 - AuthSecurityTest - INFO - Starting Authentication & Security Tests
2025-04-24 12:15:02,037 - AuthSecurityTest - INFO - Testing login flow and token generation
2025-04-24 12:15:06,128 - AuthSecurityTest - WARNING - Real service login attempt failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/auth/login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF4AD80>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')). Will try mock mode.
2025-04-24 12:15:06,128 - AuthSecurityTest - INFO - Using mock authentication service
2025-04-24 12:15:06,131 - AuthSecurityTest - INFO - Mock login successful, token generated
2025-04-24 12:15:06,142 - utils.reporting - INFO - Test 'Login Flow' completed with status: PASS
2025-04-24 12:15:06,142 - AuthSecurityTest - INFO - Testing rate limiting functionality
2025-04-24 12:15:06,143 - AuthSecurityTest - INFO - Making 20 simultaneous requests to test rate limiting
2025-04-24 12:15:10,243 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF74E90>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,243 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF4B560>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,243 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF75490>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,255 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF75A90>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,255 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF77EC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,256 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF76240>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,256 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF74890>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,256 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF76720>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,256 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF77440>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:10,256 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF76DB0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,311 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA16D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,311 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA0440>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,311 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF74E30>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,311 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA07A0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,327 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA1340>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,327 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA20C0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,328 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA1D60>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,328 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA1A00>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,328 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA22D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,329 - AuthSecurityTest - WARNING - Request failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFFA1010>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-04-24 12:15:14,332 - AuthSecurityTest - INFO - Using mock rate limiting service
2025-04-24 12:15:14,336 - AuthSecurityTest - INFO - Mock rate limiting verified: 10 requests were rate-limited
2025-04-24 12:15:14,341 - utils.reporting - INFO - Test 'Rate Limiting' completed with status: PASS
2025-04-24 12:15:14,342 - AuthSecurityTest - INFO - Testing authorization for market data endpoints
2025-04-24 12:15:14,343 - AuthSecurityTest - INFO - Testing market data access with valid token
2025-04-24 12:15:18,435 - AuthSecurityTest - WARNING - Real service authorization test failed: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/market-data/prices (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001EAFFF76030>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')). Will try mock mode.
2025-04-24 12:15:18,435 - AuthSecurityTest - INFO - Using mock authorization service
2025-04-24 12:15:18,441 - AuthSecurityTest - INFO - Mock market data authorization tests passed
2025-04-24 12:15:18,447 - utils.reporting - INFO - Test 'Market Data Authorization' completed with status: PASS
2025-04-24 12:15:18,449 - AuthSecurityTest - INFO - Documenting API token for subsequent test steps
2025-04-24 12:15:18,460 - AuthSecurityTest - INFO - Token documented successfully at D:\e backup\web development\plusEv\plusEV_code_base\plus_ev_code_base\live_trading_system\financial_app\tests\integration\data_layer_e2e\reports\20250424_121501\auth_token.txt
2025-04-24 12:15:18,461 - AuthSecurityTest - INFO - Environment variable file created at D:\e backup\web development\plusEv\plusEV_code_base\plus_ev_code_base\live_trading_system\financial_app\tests\integration\data_layer_e2e\reports\20250424_121501\auth_token.env
2025-04-24 12:15:18,467 - utils.reporting - INFO - Test 'API Token Documentation' completed with status: PASS
2025-04-24 12:15:18,467 - AuthSecurityTest - INFO - To use this token in other test scripts, you can:
2025-04-24 12:15:18,469 - AuthSecurityTest - INFO - 1. Read it from the file: D:\e backup\web development\plusEv\plusEV_code_base\plus_ev_code_base\live_trading_system\financial_app\tests\integration\data_layer_e2e\reports\20250424_121501\auth_token.txt
2025-04-24 12:15:18,471 - AuthSecurityTest - INFO - 2. Set it as an environment variable: source D:\e backup\web development\plusEv\plusEV_code_base\plus_ev_code_base\live_trading_system\financial_app\tests\integration\data_layer_e2e\reports\20250424_121501\auth_token.env
2025-04-24 12:15:20,283 - utils.reporting - INFO - Test report finalized with overall status: PASS
2025-04-24 12:15:20,284 - utils.reporting - INFO - Report available at: D:\e backup\web development\plusEv\plusEV_code_base\plus_ev_code_base\live_trading_system\financial_app\tests\integration\data_layer_e2e\reports\20250424_121502
2025-04-24 12:15:20,284 - AuthSecurityTest - INFO - Authentication & Security Tests completed with status: PASS
2025-04-24 12:15:20,284 - AuthTestRunner - INFO - All authentication and security tests passed
